//My solution:
class Solution {
public:
    int scoreOfParentheses(string s) {
        stack<string> stk;
        int ans=0;
        for(int i=0;i<s.size();i++)
        {
            if(s[i]!=')')
            {
                string a="";
                a=a+s[i];
                stk.push(a);
            }
            else
            {
                int current=0;
                if(stk.top()=="(")
                {
                    stk.pop();
                    stk.push("1");
                }
                else
                {
                    while(!stk.empty()&&stk.top()!="(")
                    {
                        //std::cout<<stk.top()<<std::endl;
                        current=current+stoi(stk.top());
                        //std::cout<<current<<std::endl;
                        stk.pop();
                    }//while
                    //avoid '('
                    stk.pop();
                    //std::cout<<current*2<<std::endl;
                    stk.push(to_string(current*2));
                }//else
            }//else
        }//for
        while(!stk.empty())
        {
            //std::cout<<stk.top()<<std::endl;
            ans=ans+(stoi(stk.top()));
            stk.pop();
        }
        //std::cout<<ans<<std::endl;
        return ans;
        
    }
};
